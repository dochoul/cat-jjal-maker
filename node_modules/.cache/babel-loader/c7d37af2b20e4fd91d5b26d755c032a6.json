{"ast":null,"code":"import _toConsumableArray from\"/Users/david/Documents/work/cat-jjal-maker/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/david/Documents/work/cat-jjal-maker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/david/Documents/work/cat-jjal-maker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/david/Documents/work/cat-jjal-maker/node_modules/@babel/runtime/regenerator/index.js\";import logo from\"./logo.svg\";import React from\"react\";import Title from\"./components/Title\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var jsonLocalStorage={setItem:function setItem(key,value){localStorage.setItem(key,JSON.stringify(value));},getItem:function getItem(key){return JSON.parse(localStorage.getItem(key));}};var fetchCat=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var OPEN_API_DOMAIN,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:OPEN_API_DOMAIN=\"https://cataas.com\";_context.next=3;return fetch(\"\".concat(OPEN_API_DOMAIN,\"/cat/says/\").concat(text,\"?json=true\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;return _context.abrupt(\"return\",\"\".concat(OPEN_API_DOMAIN,\"/\").concat(responseJson.url));case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchCat(_x){return _ref.apply(this,arguments);};}();var Form=function Form(_ref2){var updateMainCat=_ref2.updateMainCat;var includesHangul=function includesHangul(text){return /[ã„±-ã…|ã…-ã…£|ê°€-í£]/i.test(text);};var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),errorMessage=_React$useState4[0],setErrorMessage=_React$useState4[1];function handleInputChange(e){var userValue=e.target.value;setErrorMessage(\"\");if(includesHangul(userValue)){setErrorMessage(\"í•œê¸€ì€ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");}setValue(userValue.toUpperCase());}function handleFormSubmit(e){e.preventDefault();setErrorMessage(\"\");if(value===\"\"){setErrorMessage(\"ë¹ˆ ê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");return;}updateMainCat(value);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\uC601\\uC5B4 \\uB300\\uC0AC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",value:value,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uC0DD\\uC131\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:errorMessage})]});};function CatItem(props){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:props.img,style:{width:\"150px\"}})});}function Favorites(_ref3){var favorites=_ref3.favorites;if(favorites.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0AC\\uC9C4 \\uC704 \\uD558\\uD2B8\\uB97C \\uB20C\\uB7EC \\uACE0\\uC591\\uC774 \\uC0AC\\uC9C4\\uC744 \\uC800\\uC7A5\\uD574\\uBD10\\uC694!\"});}return/*#__PURE__*/_jsx(\"ul\",{className:\"favorites\",children:favorites.map(function(cat){return/*#__PURE__*/_jsx(CatItem,{img:cat},cat);})});}var MainCard=function MainCard(_ref4){var img=_ref4.img,onHeartClick=_ref4.onHeartClick,alreadyFavorite=_ref4.alreadyFavorite;var heartIcon=alreadyFavorite?\"ğŸ’–\":\"ğŸ¤\";return/*#__PURE__*/_jsxs(\"div\",{className:\"main-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\\uACE0\\uC591\\uC774\",width:\"400\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onHeartClick,children:heartIcon})]});};var App=function App(){var CAT1=\"https://cataas.com/cat/HSENVDU4ZMqy7KQ0/says/react\";var CAT2=\"https://cataas.com/cat/BxqL2EjFmtxDkAm2/says/inflearn\";var CAT3=\"https://cataas.com/cat/18MD6byVC1yKGpXp/says/JavaScript\";var _React$useState5=React.useState(function(){return jsonLocalStorage.getItem(\"counter\");}),_React$useState6=_slicedToArray(_React$useState5,2),counter=_React$useState6[0],setCounter=_React$useState6[1];var _React$useState7=React.useState(CAT1),_React$useState8=_slicedToArray(_React$useState7,2),mainCat=_React$useState8[0],setMainCat=_React$useState8[1];var _React$useState9=React.useState(function(){return jsonLocalStorage.getItem(\"favorites\")||[];}),_React$useState10=_slicedToArray(_React$useState9,2),favorites=_React$useState10[0],setFavorites=_React$useState10[1];var alreadyFavorite=favorites.includes(mainCat);function setInitialCat(){return _setInitialCat.apply(this,arguments);}function _setInitialCat(){_setInitialCat=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var newCat;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchCat(\"First cat\");case 2:newCat=_context2.sent;console.log(newCat);setMainCat(newCat);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _setInitialCat.apply(this,arguments);}React.useEffect(function(){setInitialCat();},[]);function updateMainCat(_x2){return _updateMainCat.apply(this,arguments);}function _updateMainCat(){_updateMainCat=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){var newCat;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchCat(value);case 2:newCat=_context3.sent;setMainCat(newCat);setCounter(function(prev){var nextCounter=prev+1;jsonLocalStorage.setItem(\"counter\",nextCounter);return nextCounter;});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _updateMainCat.apply(this,arguments);}function handleHeartClick(){var nextFavorites=[].concat(_toConsumableArray(favorites),[mainCat]);setFavorites(nextFavorites);jsonLocalStorage.setItem(\"favorites\",nextFavorites);}var counterTitle=counter===null?\"\":counter+\"ë²ˆì§¸ \";return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Title,{children:[counterTitle,\"\\uACE0\\uC591\\uC774 \\uAC00\\uB77C\\uC0AC\\uB300\"]}),/*#__PURE__*/_jsx(Form,{updateMainCat:updateMainCat}),/*#__PURE__*/_jsx(MainCard,{img:mainCat,onHeartClick:handleHeartClick,alreadyFavorite:alreadyFavorite}),/*#__PURE__*/_jsx(Favorites,{favorites:favorites})]});};export default App;","map":{"version":3,"sources":["/Users/david/Documents/work/cat-jjal-maker/src/App.js"],"names":["logo","React","Title","jsonLocalStorage","setItem","key","value","localStorage","JSON","stringify","getItem","parse","fetchCat","text","OPEN_API_DOMAIN","fetch","response","json","responseJson","url","Form","updateMainCat","includesHangul","test","useState","setValue","errorMessage","setErrorMessage","handleInputChange","e","userValue","target","toUpperCase","handleFormSubmit","preventDefault","color","CatItem","props","img","width","Favorites","favorites","length","map","cat","MainCard","onHeartClick","alreadyFavorite","heartIcon","App","CAT1","CAT2","CAT3","counter","setCounter","mainCat","setMainCat","setFavorites","includes","setInitialCat","newCat","console","log","useEffect","prev","nextCounter","handleHeartClick","nextFavorites","counterTitle"],"mappings":"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","sourcesContent":["import logo from \"./logo.svg\";\nimport React from \"react\";\nimport Title from \"./components/Title\";\nimport \"./App.css\";\n\nconst jsonLocalStorage = {\n  setItem: (key, value) => {\n    localStorage.setItem(key, JSON.stringify(value));\n  },\n  getItem: (key) => {\n    return JSON.parse(localStorage.getItem(key));\n  },\n};\n\nconst fetchCat = async (text) => {\n  const OPEN_API_DOMAIN = \"https://cataas.com\";\n  const response = await fetch(`${OPEN_API_DOMAIN}/cat/says/${text}?json=true`);\n  const responseJson = await response.json();\n  return `${OPEN_API_DOMAIN}/${responseJson.url}`;\n};\n\nconst Form = ({ updateMainCat }) => {\n  const includesHangul = (text) => /[ã„±-ã…|ã…-ã…£|ê°€-í£]/i.test(text);\n  const [value, setValue] = React.useState(\"\");\n  const [errorMessage, setErrorMessage] = React.useState(\"\");\n\n  function handleInputChange(e) {\n    const userValue = e.target.value;\n    setErrorMessage(\"\");\n    if (includesHangul(userValue)) {\n      setErrorMessage(\"í•œê¸€ì€ ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n    }\n    setValue(userValue.toUpperCase());\n  }\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    setErrorMessage(\"\");\n\n    if (value === \"\") {\n      setErrorMessage(\"ë¹ˆ ê°’ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    updateMainCat(value);\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\"\n        value={value}\n        onChange={handleInputChange}\n      />\n      <button type=\"submit\">ìƒì„±</button>\n      <p style={{ color: \"red\" }}>{errorMessage}</p>\n    </form>\n  );\n};\n\nfunction CatItem(props) {\n  return (\n    <li>\n      <img src={props.img} style={{ width: \"150px\" }} />\n    </li>\n  );\n}\n\nfunction Favorites({ favorites }) {\n  if (favorites.length === 0) {\n    return <div>ì‚¬ì§„ ìœ„ í•˜íŠ¸ë¥¼ ëˆŒëŸ¬ ê³ ì–‘ì´ ì‚¬ì§„ì„ ì €ì¥í•´ë´ìš”!</div>;\n  }\n\n  return (\n    <ul className=\"favorites\">\n      {favorites.map((cat) => (\n        <CatItem img={cat} key={cat} />\n      ))}\n    </ul>\n  );\n}\n\nconst MainCard = ({ img, onHeartClick, alreadyFavorite }) => {\n  const heartIcon = alreadyFavorite ? \"ğŸ’–\" : \"ğŸ¤\";\n  return (\n    <div className=\"main-card\">\n      <img src={img} alt=\"ê³ ì–‘ì´\" width=\"400\" />\n      <button onClick={onHeartClick}>{heartIcon}</button>\n    </div>\n  );\n};\n\nconst App = () => {\n  const CAT1 = \"https://cataas.com/cat/HSENVDU4ZMqy7KQ0/says/react\";\n  const CAT2 = \"https://cataas.com/cat/BxqL2EjFmtxDkAm2/says/inflearn\";\n  const CAT3 =\n    \"https://cataas.com/cat/18MD6byVC1yKGpXp/says/JavaScript\";\n\n  const [counter, setCounter] = React.useState(() => {\n    return jsonLocalStorage.getItem(\"counter\");\n  });\n  const [mainCat, setMainCat] = React.useState(CAT1);\n  const [favorites, setFavorites] = React.useState(() => {\n    return jsonLocalStorage.getItem(\"favorites\") || [];\n  });\n\n  const alreadyFavorite = favorites.includes(mainCat);\n\n  async function setInitialCat() {\n    const newCat = await fetchCat(\"First cat\");\n    console.log(newCat);\n    setMainCat(newCat);\n  }\n\n  React.useEffect(() => {\n    setInitialCat();\n  }, []);\n\n  async function updateMainCat(value) {\n    const newCat = await fetchCat(value);\n\n    setMainCat(newCat);\n\n    setCounter((prev) => {\n      const nextCounter = prev + 1;\n      jsonLocalStorage.setItem(\"counter\", nextCounter);\n      return nextCounter;\n    });\n  }\n\n  function handleHeartClick() {\n    const nextFavorites = [...favorites, mainCat];\n    setFavorites(nextFavorites);\n    jsonLocalStorage.setItem(\"favorites\", nextFavorites);\n  }\n\n  const counterTitle = counter === null ? \"\" : counter + \"ë²ˆì§¸ \";\n\n  return (\n    <div>\n      <Title>{counterTitle}ê³ ì–‘ì´ ê°€ë¼ì‚¬ëŒ€</Title>\n      <Form updateMainCat={updateMainCat} />\n      <MainCard\n        img={mainCat}\n        onHeartClick={handleHeartClick}\n        alreadyFavorite={alreadyFavorite}\n      />\n      <Favorites favorites={favorites} />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}